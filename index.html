function getTableHTML(categoryList) {
      var isMockExam = categoryList.some(function(c) { return c.category === "등급"; });
      var html = '<table>';
      
      if (isMockExam) {
         html += '<thead><tr><th>과목</th><th>등급</th></tr></thead>';
      }
      
      html += '<tbody>';
      
      if (categoryList && categoryList.length > 0) {
        for (var k = 0; k < categoryList.length; k++) {
          var category = categoryList[k].category; 
          var items = categoryList[k].items;       
          var categoryScore = ""; 
          var displayItems = []; 
          
          for (var i = 0; i < items.length; i++) {
            var itemName = items[i].item;
            
            // [수정] "종합" 카테고리의 "등급" 항목은 표에서 숨김 (위쪽 제목에 표시했으므로)
            if (category === "종합" && itemName === "등급") {
                continue; 
            }

            if (itemName.replace(/\s/g, "") === "합계") { categoryScore = items[i].score; } 
            else { displayItems.push(items[i]); }
          }

          // [수정] 만약 항목을 숨겨서 표시할 내용이 아예 없어진 경우(종합 카테고리 등), 해당 카테고리 행 자체를 스킵
          if (displayItems.length === 0 && categoryScore === "") {
             continue;
          }

          if (isMockExam && category === "등급") {
             // 카테고리 행 생략
          } else {
             var bgClass = 'bg-default';
             if (category.indexOf('고사') > -1 || category.indexOf('시험') > -1) bgClass = 'bg-exam';
             else if (category.indexOf('수행') > -1) bgClass = 'bg-perform';

             html += '<tr class="category-row ' + bgClass + '">';
             html += '  <td>' + category + '</td>';
             html += '  <td style="text-align:center;">' + categoryScore + '</td>'; 
             html += '</tr>';
          }
          
          for (var i = 0; i < displayItems.length; i++) {
            var itemName = displayItems[i].item;
            var itemScore = displayItems[i].score;
            var scoreStyle = "";
            
            var normalized = normalizeSubjectName(itemName);
            var isTarget = ['국어','수학','영어'].includes(normalized);
            var clickAttr = "";
            var nameClass = "";

            if (isMockExam && isTarget) {
               clickAttr = 'onclick="showTrendGraph(\'' + itemName + '\')"';
               nameClass = 'class="clickable-subject"';
            }

            if (itemName.indexOf("객관식") > -1 || itemName.indexOf("주관식") > -1) {
               scoreStyle = 'style="font-weight: normal; color: #555;"'; 
            }

            html += '<tr class="item-row">';
            html += '  <td ' + nameClass + ' ' + clickAttr + '>' + itemName + '</td>';
            html += '  <td ' + scoreStyle + '>' + itemScore + '</td>';
            html += '</tr>';
          }
        }
      } else {
        html += '<tr><td colspan="2" style="text-align:center; padding: 20px;">결과 없음</td></tr>';
      }
      html += '</tbody></table>';
      return html;
    }
